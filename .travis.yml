language: python
python:
  - '3.7'

before_script:
  - pip install -r requirements.txt

env: DJANGO_SETTINGS_MODULE=PurBeurreSite.settings.travis

services:
  - postgresql

script:
  - ./manage.py collectstatic
  - ./manage.py makemigrations
  - ./manage.py migrate
  - ./manage.py fill_db
  - ./manage.py test